<link href="https://fonts.googleapis.com/css2?family=Pretendard&display=swap" rel="stylesheet" />
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

<style>
  :root {
    --blue-50: #f0f3fa;
    --blue-100: #d5deef;
    --blue-200: #b1c9ef;
    --blue-300: #8aaee0;
    --blue-400: #628ecb;
    --blue-500: #395886;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Pretendard', sans-serif;
    text-decoration: none;
  }

  .sidebar {
    width: 300px;
    background: #fff;
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    min-height: 100vh;
  }

  .sidebar h2 {
    font-size: 20px;
    margin-bottom: 30px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
  }

  .sidebar .top-icons {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .sidebar ul {
    list-style: none;
    padding-left: 0;
  }

  .sidebar li {
    color: var(--blue-500);
  }

  .sidebar li > a {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    border-radius: 6px;
    text-decoration: none;
    color: inherit;
    gap: 8px;
  }

  .sidebar li > a:hover {
    background-color: var(--blue-100);
  }

  .sidebar .submenu {
    display: none;
    padding-left: 28px;
  }

  .sidebar li.active > .submenu {
    display: block;
  }

  .sidebar > ul > li.active > a {
    background-color: var(--blue-200);
    font-weight: bold;
    border-radius: 6px;
  }

  .sidebar .submenu li a.active {
    background-color: var(--blue-50);
    /*text-decoration: underline;*/
    font-weight: 500;
    color: var(--blue-500);
    border-radius: 0 !important;
  }
  .sidebar .bottom-sidebar {
    padding-top: 20px;
    border-top: 1px solid #cccccc;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }
  .settings {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--blue-500);
  }
  .logout {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--blue-500);
  }
  .btn {
    background: var(--blue-400);
    color: white;
    padding: 8px 16px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }

  .material-icons.expand {
    margin-left: auto;
    transition: transform 0.2s;
  }

  .sidebar li.active .material-icons.expand {
    transform: rotate(90deg);
  }

  .notification-icon {
    font-size: 28px;
    color: var(--blue-500);
    cursor: pointer;
  }
  .sidebar li > a.sidebar-toggle.active {
    background-color: var(--blue-100);
    font-weight: bold;
    border-radius: 6px;
  }
</style>

<aside class="sidebar">
  <div>
    <h2>
      Momentum
      <span class="top-icons">
        <button class="btn" style="padding: 4px 10px; font-size: 13px;">출근</button>
        <span class="material-icons notification-icon">notifications</span>
      </span>
    </h2>
    <ul>
      <li>
        <a href="../common/dashboard.html"><span class="material-icons">dashboard</span>대시보드</a>
      </li>
      <li>
        <a href="#" class="sidebar-toggle"><span class="material-icons">business</span>회사 정보<span class="material-icons expand">chevron_right</span></a>
        <ul class="submenu">
          <li><a href="../company/company-info.html">회사 정보</a></li>
          <li><a href="../company/org-chart.html">조직도</a></li>
          <li><a href="../company/department.html">부서 관리</a></li>
          <li><a href="../company/position.html">직위 관리</a></li>
          <li><a href="../company/duty.html">직책 관리</a></li>
        </ul>
      </li>
      <li>
        <a href="#" class="sidebar-toggle"><span class="material-icons">groups</span>사원 관리<span class="material-icons expand">chevron_right</span></a>
        <ul class="submenu">
          <li><a href="../employee/employees.html">사원 목록 조회</a></li>
          <li><a href="../employee/employee-detail.html">사원 상세 조회</a></li>
          <li><a href="../employee/employee-form.html">사원 등록</a></li>
          <li><a href="../employee/employee-csv.html">CSV 등록</a></li>
        </ul>
      </li>
      <li>
        <a href="#" class="sidebar-toggle"><span class="material-icons">schedule</span>근태 관리<span class="material-icons expand">chevron_right</span></a>
        <ul class="submenu">
          <li><a href="../attendance/attendance.html">근태 내역</a></li>
          <li><a href="../attendance/commute.html">출퇴근 관리</a></li>
          <li><a href="../attendance/fieldwork.html">외근 관리</a></li>
          <li><a href="../attendance/remote.html">재택 근무</a></li>
          <li><a href="../attendance/overtime.html">초과 근무</a></li>
          <li><a href="../attendance/vacation.html">휴가 관리</a></li>
          <li><a href="../attendance/business-trip.html">출장 관리</a></li>
          <li><a href="../attendance/halfday.html">연반차 관리</a></li>
        </ul>
      </li>
      <li>
        <a href="#" class="sidebar-toggle"><span class="material-icons">task</span>결재 관리<span class="material-icons expand">chevron_right</span></a>
        <ul class="submenu">
          <li><a href="../approval/approval-list.html">결재 문서 목록</a></li>
          <li><a href="../approval/approval-create.html">결재 문서 작성</a></li>
        </ul>
      </li>
      <li>
        <a href="#" class="sidebar-toggle"><span class="material-icons">bar_chart</span>성과 평가<span class="material-icons expand">chevron_right</span></a>
        <ul class="submenu">
          <li><a href="../performance/kpi.html">KPI 관리</a></li>
          <li><a href="../performance/evaluation.html">평가 관리</a></li>
        </ul>
      </li>
      <li>
        <a href="#" class="sidebar-toggle"><span class="material-icons">warning</span>이탈 위험<span class="material-icons expand">chevron_right</span></a>
        <ul class="submenu">
          <li><a href="../breakaway/risk-stats.html">통계 보기</a></li>
          <li><a href="../breakaway/risk-contact.html">상급자 알림</a></li>
        </ul>
      </li>
      <li>
        <a href="#" class="sidebar-toggle"><span class="material-icons">campaign</span>공지 관리<span class="material-icons expand">chevron_right</span></a>
        <ul class="submenu">
          <li><a href="../announcement/announcements.html">공지 목록</a></li>
          <li><a href="../announcement/announcement-create.html">공지 작성</a></li>
        </ul>
      </li>
    </ul>
  </div>
  <div class="bottom-sidebar ">
    <a href="../common/settings.html" class="settings">
      <span class="material-icons">settings</span>설정
    </a>
    <a href="#" class="logout">
      <span class="material-icons">logout</span>로그아웃
    </a>
  </div>
</aside>

<!--
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // 메뉴 토글
    document.querySelectorAll('.sidebar-toggle').forEach(toggle => {
      toggle.addEventListener('click', (e) => {
        e.preventDefault();
        const li = toggle.closest('li');
        li.classList.toggle('active');
      });
    });

    // 현재 파일명만 추출
    const currentFile = window.location.pathname.split('/').filter(Boolean).pop();

    document.querySelectorAll('.sidebar a').forEach(link => {
      const href = link.getAttribute('href');
      if (href && href.includes(currentFile)) {
        link.classList.add('active');
        const parentLi = link.closest('ul')?.closest('li');
        if (parentLi) parentLi.classList.add('active');
      }
    });
  });
</script>
-->

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Organization Chart</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }

        .org-tree {
            position: relative;
        }

        .tree-line {
            position: absolute;
            background: #e5e7eb;
        }

        .tree-line.vertical {
            width: 2px;
            left: 20px;
        }

        .tree-line.horizontal {
            height: 2px;
            top: 20px;
        }

        .team-node {
            transition: all 0.3s ease;
        }

        .team-node:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .team-node.active {
            background: var(--icon-gradient);
            color: white;
            transform: scale(1.02);
        }

        .profile-card {
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateX(20px);
        }

        .profile-card.show {
            opacity: 1;
            transform: translateX(0);
        }

        .avatar {
            background: var(--icon-gradient);
        }

        .department-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .section-header {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
<div class="container mx-auto px-6 py-8">
    <!-- Header -->
    <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-gray-800 mb-4">조직도</h1>
        <p class="text-gray-600">팀을 선택하여 팀원 정보를 확인하세요</p>
    </div>

    <div class="flex gap-8 max-w-7xl mx-auto">
        <!-- Organization Chart (Left Side - 70%) -->
        <div class="flex-1 bg-white rounded-2xl shadow-lg p-8">
            <div class="org-tree">
                <!-- 마케팅부 -->
                <div class="mb-8">
                    <div class="department-header text-white p-6 rounded-xl mb-6">
                        <div class="flex items-center">
                            <i class="fas fa-building text-2xl mr-4"></i>
                            <h2 class="text-2xl font-bold">마케팅부</h2>
                        </div>
                    </div>

                    <!-- 마케팅 --과 -->
                    <div class="ml-8 mb-6">
                        <div class="section-header text-gray-800 p-4 rounded-lg mb-4">
                            <div class="flex items-center">
                                <i class="fas fa-folder text-xl mr-3"></i>
                                <h3 class="text-xl font-semibold">마케팅 --과</h3>
                            </div>
                        </div>

                        <!-- 팀들 -->
                        <div class="ml-8 space-y-4">
                            <div class="team-node bg-blue-50 border-2 border-blue-200 p-4 rounded-lg cursor-pointer"
                                 data-team="마케팅 --과 1팀">
                                <div class="flex items-center">
                                    <i class="fas fa-users text-blue-600 mr-3"></i>
                                    <span class="font-medium text-gray-800">마케팅 --과 1팀</span>
                                    <span class="ml-auto bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm">2명</span>
                                </div>
                            </div>

                            <div class="team-node bg-green-50 border-2 border-green-200 p-4 rounded-lg cursor-pointer"
                                 data-team="마케팅 --과 2팀">
                                <div class="flex items-center">
                                    <i class="fas fa-users text-green-600 mr-3"></i>
                                    <span class="font-medium text-gray-800">마케팅 --과 2팀</span>
                                    <span class="ml-auto bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm">3명</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 인사부 -->
                <div class="mb-8">
                    <div class="department-header text-white p-6 rounded-xl mb-6">
                        <div class="flex items-center">
                            <i class="fas fa-user-tie text-2xl mr-4"></i>
                            <h2 class="text-2xl font-bold">인사부</h2>
                        </div>
                    </div>

                    <!-- 인사부 --과 -->
                    <div class="ml-8 mb-6">
                        <div class="section-header text-gray-800 p-4 rounded-lg mb-4">
                            <div class="flex items-center">
                                <i class="fas fa-folder text-xl mr-3"></i>
                                <h3 class="text-xl font-semibold">인사부 --과</h3>
                            </div>
                        </div>

                        <!-- 팀들 -->
                        <div class="ml-8 space-y-4">
                            <div class="team-node bg-purple-50 border-2 border-purple-200 p-4 rounded-lg cursor-pointer"
                                 data-team="인사부 --과 1팀">
                                <div class="flex items-center">
                                    <i class="fas fa-users text-purple-600 mr-3"></i>
                                    <span class="font-medium text-gray-800">인사부 --과 1팀</span>
                                    <span class="ml-auto bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-sm">4명</span>
                                </div>
                            </div>

                            <div class="team-node bg-orange-50 border-2 border-orange-200 p-4 rounded-lg cursor-pointer"
                                 data-team="인사부 --과 2팀">
                                <div class="flex items-center">
                                    <i class="fas fa-users text-orange-600 mr-3"></i>
                                    <span class="font-medium text-gray-800">인사부 --과 2팀</span>
                                    <span class="ml-auto bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-sm">2명</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Team Member Profiles (Right Side - 30%) -->
        <div class="w-80 bg-white rounded-2xl shadow-lg p-6">
            <div id="team-header" class="text-center mb-6 hidden">
                <h3 id="selected-team" class="text-xl font-bold text-gray-800 mb-2"></h3>
                <p class="text-gray-600">팀원 목록</p>
            </div>

            <div id="no-selection" class="text-center text-gray-500 py-20">
                <i class="fas fa-hand-pointer text-4xl mb-4"></i>
                <p>팀을 선택해주세요</p>
            </div>

            <div id="profile-list" class="space-y-4"></div>
        </div>
    </div>
</div>

<script>
    // 팀별 직원 데이터
    const teamData = {
        "마케팅 --과 1팀": [
            {
                name: "김소현",
                position: "대리 · 팀원",
                email: "kimsh@example.com",
                phone: "010-1234-5678",
                avatar: "KS"
            },
            {
                name: "이상희",
                position: "과장 · 팀장",
                email: "leesh@example.com",
                phone: "010-9876-5432",
                avatar: "LS"
            }
        ],
        "마케팅 --과 2팀": [
            {
                name: "박지민",
                position: "주임 · 팀원",
                email: "parkjm@example.com",
                phone: "010-2468-1357",
                avatar: "PJ"
            },
            {
                name: "최영수",
                position: "대리 · 팀원",
                email: "choiys@example.com",
                phone: "010-1357-2468",
                avatar: "CY"
            },
            {
                name: "한미영",
                position: "과장 · 팀장",
                email: "hanmy@example.com",
                phone: "010-9753-8642",
                avatar: "HM"
            }
        ],
        "인사부 --과 1팀": [
            {
                name: "정우진",
                position: "대리 · 팀원",
                email: "jeongwj@example.com",
                phone: "010-3691-2580",
                avatar: "JW"
            },
            {
                name: "오수정",
                position: "주임 · 팀원",
                email: "ohsj@example.com",
                phone: "010-1472-5836",
                avatar: "OS"
            },
            {
                name: "송민호",
                position: "과장 · 팀장",
                email: "songmh@example.com",
                phone: "010-7531-9642",
                avatar: "SM"
            },
            {
                name: "김예진",
                position: "사원 · 팀원",
                email: "kimyj@example.com",
                phone: "010-8520-7413",
                avatar: "KY"
            }
        ],
        "인사부 --과 2팀": [
            {
                name: "윤태현",
                position: "대리 · 팀원",
                email: "yooth@example.com",
                phone: "010-9630-7410",
                avatar: "YT"
            },
            {
                name: "서은비",
                position: "과장 · 팀장",
                email: "seoeb@example.com",
                phone: "010-7410-9630",
                avatar: "SE"
            }
        ]
    };

    // 팀 노드 클릭 이벤트
    document.querySelectorAll('.team-node').forEach(node => {
        node.addEventListener('click', function() {
            const teamName = this.dataset.team;

            // 모든 팀 노드의 active 클래스 제거
            document.querySelectorAll('.team-node').forEach(n => n.classList.remove('active'));

            // 현재 클릭된 노드에 active 클래스 추가
            this.classList.add('active');

            // 프로필 표시
            showTeamProfiles(teamName);
        });
    });

    function showTeamProfiles(teamName) {
        const members = teamData[teamName] || [];
        const profileList = document.getElementById('profile-list');
        const teamHeader = document.getElementById('team-header');
        const noSelection = document.getElementById('no-selection');
        const selectedTeam = document.getElementById('selected-team');

        // 헤더 업데이트
        selectedTeam.textContent = teamName;
        teamHeader.classList.remove('hidden');
        noSelection.classList.add('hidden');

        // 프로필 리스트 생성
        profileList.innerHTML = '';

        members.forEach((member, index) => {
            const profileCard = document.createElement('div');
            profileCard.className = 'profile-card bg-gray-50 rounded-lg p-4 border border-gray-200';
            profileCard.style.animationDelay = `${index * 0.1}s`;

            profileCard.innerHTML = `
                    <div class="flex items-center space-x-3">
                        <div class="avatar w-12 h-12 rounded-full flex items-center justify-center text-white font-bold">
                            ${member.avatar}
                        </div>
                        <div class="flex-1">
                            <div class="font-semibold text-gray-800">${member.name}</div>
                            <div class="text-sm text-gray-600">${member.position}</div>
                            <div class="text-xs text-gray-500 mt-1">
                                <div><i class="fas fa-envelope mr-1"></i>${member.email}</div>
                                <div class="mt-1"><i class="fas fa-phone mr-1"></i>${member.phone}</div>
                            </div>
                        </div>
                    </div>
                `;

            profileList.appendChild(profileCard);

            // 애니메이션 효과
            setTimeout(() => {
                profileCard.classList.add('show');
            }, index * 100);
        });
    }
</script>
</body>
</html>
